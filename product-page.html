<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ë¶€ì‚°í•œì •] NFC ë¹„ëˆ„ë¹„ëˆ„ ë² ì´ë²  í‚¤ë§ - GLOCAL:HD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì¶”ê°€ì ì¸ CSS (tailwind-proseëŠ” CDNì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šì•„ ì§ì ‘ ìŠ¤íƒ€ì¼ë§) */
        .prose h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1f2937; /* gray-900 */
        }
        .prose p {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .prose ul {
            list-style-type: disc;
            padding-left: 1.25rem;
        }
        .prose li {
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>

    <div id="app" class="min-h-screen bg-white">
        <header class="sticky top-0 z-20 bg-white/90 backdrop-blur border-b">
            <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
                <a href="index.html" class="flex items-center gap-2">
                    <span class="text-2xl font-extrabold tracking-tight">GLOCAL:HD</span>
                </a>
                <nav class="hidden md:flex gap-6 text-sm text-gray-600">
                    <a href="#" class="hover:text-black">ì „ì²´ ìƒí’ˆ</a>
                    <a href="#" class="hover:text-black">ì˜ë¥˜</a>
                    <a href="#" class="hover:text-black">ë¬¸êµ¬/ì˜¤í”¼ìŠ¤</a>
                    <a href="#" class="hover:text-black">ì•¡ì„¸ì„œë¦¬</a>
                    <a href="#" class="hover:text-black">ìŠ¤í¬ì¸ </a>
                </nav>
            </div>
        </header>

        <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 p-4 md:p-8">
            <section class="flex items-center justify-center bg-gray-100 rounded-2xl border relative overflow-hidden p-3 md:p-4">
                <img
                    id="productImage"
                    src="" 
                    alt="ì œí’ˆ ë¯¸ë¦¬ë³´ê¸°"
                    onclick="setPreview(true)"
                    referrerPolicy="no-referrer"
                    crossOrigin="anonymous"
                    class="object-contain w-full h-auto max-w-[88%] max-h-[68vh] rounded-xl shadow select-none cursor-zoom-in transition-transform duration-300 hover:scale-[1.02]"
                    style="image-rendering: crisp-edges;"
                />

                <div id="previewModal" onclick="setPreview(false)" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50 cursor-zoom-out">
                    <img
                        id="previewImage"
                        src=""
                        alt="í™•ëŒ€ ë¯¸ë¦¬ë³´ê¸°"
                        class="max-w-[95vw] max-h-[90vh] rounded-2xl shadow object-contain select-none"
                    />
                    <button
                        onclick="setPreview(false)"
                        class="absolute top-6 right-6 text-white text-3xl font-light"
                        aria-label="ë‹«ê¸°"
                    >
                        Ã—
                    </button>
                </div>
            </section>

            <aside class="flex flex-col gap-5 lg:pl-4">
                <div>
                    <p class="text-gray-500 text-sm" id="brandText">Other Brands</p>
                    <h1 class="text-2xl md:text-3xl font-bold mt-1" id="titleText">[ë¶€ì‚°í•œì •] NFC ë¹„ëˆ„ë¹„ëˆ„ ë² ì´ë²  í‚¤ë§</h1>
                </div>

                <div class="flex items-center gap-2 text-amber-500" id="ratingStars">
                    </div>

                <div class="text-xl md:text-2xl font-semibold" id="priceText"></div>

                <div>
                    <p class="text-sm font-medium mb-2">ìƒ‰ìƒ - <span id="colorLabel">ë ˆì¸ë³´ìš°</span></p>
                    <div class="flex flex-wrap gap-2" id="colorOptions">
                        </div>
                </div>

                <div>
                    <p class="text-sm font-medium mb-2">ì‚¬ì´ì¦ˆ</p>
                    <div class="inline-flex items-center gap-2 border rounded-lg px-3 py-1.5 text-sm bg-orange-50 border-orange-300" id="sizeText"></div>
                </div>

                <div class="flex items-center gap-3">
                    <p class="text-sm font-medium">ìˆ˜ëŸ‰</p>
                    <div class="inline-flex items-center border rounded-lg overflow-hidden">
                        <button onclick="changeQty(-1)" class="px-3 py-1.5 hover:bg-gray-50" aria-label="ìˆ˜ëŸ‰ ê°ì†Œ">âˆ’</button>
                        <span id="quantityText" class="px-4 select-none">1</span>
                        <button onclick="changeQty(1)" class="px-3 py-1.5 hover:bg-gray-50" aria-label="ìˆ˜ëŸ‰ ì¦ê°€">+</button>
                    </div>
                </div>

                <p class="text-sm text-gray-500" id="shippingText"></p>

                <button
                    onclick="addToCart()"
                    class="mt-1 w-full bg-black text-white py-3 rounded-lg text-lg font-medium hover:bg-gray-800 active:scale-[0.99] transition"
                >
                    ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
                </button>
            </aside>
        </main>

        <section class="max-w-7xl mx-auto px-4 md:px-8 pb-20">
            <div class="flex gap-4 border-b mb-6 overflow-x-auto" id="tabsContainer">
                </div>

            <div id="tabContent" class="text-gray-700">
                </div>
        </section>
    </div>

    <script>
        // 1. ìƒíƒœ ë³€ìˆ˜ (Reactì˜ useState ëŒ€ì²´)
        let qty = 1;
        let tab = "detail";
        let color = "rainbow";
        let preview = false;
        let imgIdx = 0;

        // 2. ë°ì´í„° ì •ì˜ (Reactì˜ product, colors ëŒ€ì²´)
        const product = {
            brand: "Other Brands",
            title: "[ë¶€ì‚°í•œì •] NFC ë¹„ëˆ„ë¹„ëˆ„ ë² ì´ë²  í‚¤ë§",
            price: 6700,
            shipping: 3000,
            rating: 5,
            size: "1.8 x 1.8 x 1.2 cm",
        };

        const colors = [
            { id: "rainbow", label: "ë ˆì¸ë³´ìš°", style: { background: "linear-gradient(90deg, #ff3b30, #ff9500, #ffcc00, #34c759, #007aff, #5856d6)" } },
            { id: "red", label: "ë ˆë“œ", style: { background: "#ef4444" } },
            { id: "blue", label: "ë¸”ë£¨", style: { background: "#3b82f6" } },
            { id: "purple", label: "í¼í”Œ", style: { background: "#8b5cf6" } },
            { id: "orange", label: "ì˜¤ë Œì§€", style: { background: "#f59e0b" } },
            { id: "green", label: "ê·¸ë¦°", style: { background: "#22c55e" } },
            { id: "yellow", label: "ì˜ë¡œìš°", style: { background: "#eab308" } },
        ];

        const IMG_SOURCES = [
            // ì²« ë²ˆì§¸ ì†ŒìŠ¤ê°€ ì‹¤íŒ¨í•  ê²½ìš°ë¥¼ ëŒ€ë¹„í•œ ëŒ€ì²´ ì´ë¯¸ì§€ ê²½ë¡œ
            "/ektl.png",
            "https://postfiles.pstatic.net/MjAyNTExMTFfNTkg/MDAxNzYyODM3MjM0MzMy.Na9sO2glTaGleVLCPWD2Zrs6MlS2MCgH0WsY6BzR76wg.gQfkanV4LLReW_RJE2ssUci8TYj9Eug8i7XDi8v8IuIg.PNG/ektl.png?type=w580",
            "https://images.weserv.nl/?url=" + encodeURIComponent("https://postfiles.pstatic.net/MjAyNTExMTFfNTkg/MDAxNzYyODM3MjM0MzMy.Na9sO2glTaGleVLCPWD2Zrs6MlS2MCgH0WsY6BzR76wg.gQfkanV4LLReW_RJE2ssUci8TYj9Eug8i7XDi8v8IuIg.PNG/ektl.png?type=w580"),
        ];

        // 3. í—¬í¼ í•¨ìˆ˜
        const priceKR = (n) => n.toLocaleString("ko-KR");
        
        const getHueDeg = () => {
            switch (color) {
                case "red": return 340;
                case "orange": return 20;
                case "yellow": return 50;
                case "green": return 100;
                case "blue": return 210;
                case "purple": return 270;
                default: return 0;
            }
        };

        // 4. DOM ì—…ë°ì´íŠ¸ ë° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (Reactì˜ ë Œë”ë§ ëŒ€ì²´)
        
        function updateDOM() {
            // ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
            const imgSrc = IMG_SOURCES[Math.min(imgIdx, IMG_SOURCES.length - 1)];
            document.getElementById('productImage').src = imgSrc;
            document.getElementById('productImage').style.filter = `hue-rotate(${getHueDeg()}deg)`;
            document.getElementById('productImage').onerror = () => { 
                if (imgIdx < IMG_SOURCES.length - 1) {
                    imgIdx++;
                    updateDOM();
                }
            };
            
            // í”„ë¦¬ë·° ëª¨ë‹¬ ì—…ë°ì´íŠ¸
            document.getElementById('previewImage').src = imgSrc;
            const modal = document.getElementById('previewModal');
            modal.style.display = preview ? 'flex' : 'none';

            // í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            document.getElementById('quantityText').textContent = qty;
            document.getElementById('priceText').textContent = `â‚©${priceKR(product.price)}`;
            document.getElementById('shippingText').textContent = `ë°°ì†¡ë¹„: ${priceKR(product.shipping)}ì›`;
            document.getElementById('sizeText').textContent = product.size;
            document.getElementById('colorLabel').textContent = colors.find((c) => c.id === color).label;

            // ë³„ì  ì—…ë°ì´íŠ¸
            const ratingStars = document.getElementById('ratingStars');
            ratingStars.innerHTML = '';
            for (let i = 0; i < product.rating; i++) {
                ratingStars.innerHTML += '<span>â˜…</span>';
            }
            ratingStars.innerHTML += `<span class="text-sm text-gray-500 ml-1">ë¦¬ë·° 3</span>`;

            // ìƒ‰ìƒ ì˜µì…˜ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            const colorOptions = document.getElementById('colorOptions');
            colorOptions.innerHTML = colors.map((c) => `
                <button
                    onclick="setColor('${c.id}')"
                    class="relative w-7 h-7 rounded-full border transition focus:outline-none ${color === c.id ? "ring-2 ring-black" : ""}"
                    style="background: ${c.style.background}"
                    aria-label="ìƒ‰ìƒ ${c.label}"
                ></button>
            `).join('');

            // íƒ­ ì—…ë°ì´íŠ¸
            renderTabs();
            renderTabContent();
        }

        // ìˆ˜ëŸ‰ ë³€ê²½
        function changeQty(delta) {
            qty = Math.max(1, qty + delta);
            updateDOM();
        }

        // ìƒ‰ìƒ ë³€ê²½
        function setColor(newColor) {
            color = newColor;
            updateDOM();
        }
        
        // í”„ë¦¬ë·° ëª¨ë‹¬ í‘œì‹œ/ìˆ¨ê¹€
        function setPreview(state) {
            preview = state;
            updateDOM();
        }

        // íƒ­ ë³€ê²½
        function setTab(newTab) {
            tab = newTab;
            updateDOM();
        }

        // íƒ­ ë²„íŠ¼ ë Œë”ë§
        function renderTabs() {
             const tabsData = [
                { id: "detail", label: "ìƒì„¸ì •ë³´" },
                { id: "review", label: "ë¦¬ë·°" },
                { id: "shipping", label: "ë°°ì†¡/êµí™˜" },
            ];
            const tabsContainer = document.getElementById('tabsContainer');
            tabsContainer.innerHTML = tabsData.map((t) => `
                <button
                    onclick="setTab('${t.id}')"
                    class="px-4 py-3 -mb-px border-b-2 transition text-sm ${
                        tab === t.id ? "border-black font-semibold" : "border-transparent text-gray-500 hover:text-black"
                    }"
                >
                    ${t.label}
                </button>
            `).join('');
        }
        
        // íƒ­ ë‚´ìš© ë Œë”ë§
        function renderTabContent() {
            const tabContent = document.getElementById('tabContent');
            if (tab === "detail") {
                tabContent.innerHTML = `
                    <div class="prose max-w-none text-gray-700">
                        <h3 class="text-xl font-semibold">ì œí’ˆ ì„¤ëª…</h3>
                        <p>í¬ê·¼í•œ í° êµ¬ë¦„ ìœ„ì— ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ì•„ê¸° ì²œì‚¬ ìºë¦­í„°ê°€ ì ë“¤ì–´ ìˆëŠ” ë“¯í•œ ëª¨ìŠµì…ë‹ˆë‹¤. ğŸ’›</p>
                        <p>ë…¸ë€ìƒ‰ ë¨¸ë¦¬, ì˜…ì€ íŒŒë€ìƒ‰ í„±ë°›ì´, ê·¸ë¦¬ê³  ë³¼ì„ ë¶‰íŒ ëª¨ìŠµì´ ìˆœìˆ˜í•˜ê³  ê·€ì—¬ìš´ ëŠë‚Œì„ ì¤ë‹ˆë‹¤.</p>
                        <ul class="list-disc pl-5">
                            <li>ì‚¬ì´ì¦ˆ: ${product.size}</li>
                            <li>ì¬ì§ˆ: ë ˆì§„, ë©”íƒˆ ë§</li>
                            <li>ì œì¡°êµ­: Korea</li>
                        </ul>
                    </div>
                `;
            } else if (tab === "review") {
                tabContent.innerHTML = `
                    <div class="text-gray-700">
                        <p class="mb-2">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸Â  ë§Œì¡±í•©ë‹ˆë‹¤! (by *s****)</p>
                        <p class="mb-2">â­ï¸â­ï¸â­ï¸â­ï¸Â  Â ì„ ë¬¼ìš©ìœ¼ë¡œ ì¢‹ì•„ìš” (by *j***)</p>
                        <p class="mb-2">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸Â  ì‚¬ì§„ë³´ë‹¤ ì‹¤ë¬¼ì´ ë” ê·€ì—½ìŠµë‹ˆë‹¤ (by *y****)</p>
                    </div>
                `;
            } else if (tab === "shipping") {
                tabContent.innerHTML = `
                    <div class="text-gray-700">
                        <h3 class="text-xl font-semibold mb-2">ë°°ì†¡/êµí™˜ ì•ˆë‚´</h3>
                        <ul class="list-disc pl-5">
                            <li>ë°°ì†¡ë¹„: ${priceKR(product.shipping)}ì› (ì œì£¼/ë„ì„œ ì‚°ê°„ ì¶”ê°€)</li>
                            <li>ì˜ì—…ì¼ ê¸°ì¤€ 1~3ì¼ ë‚´ ì¶œê³ </li>
                            <li>ë‹¨ìˆœ ë³€ì‹¬ êµí™˜/ë°˜í’ˆì€ ìˆ˜ë ¹ 7ì¼ ì´ë‚´ ê°€ëŠ¥</li>
                        </ul>
                    </div>
                `;
            }
        }

        // ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼
        function addToCart() {
            const total = product.price * qty + product.shipping;
            alert(
                `ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ì™„ë£Œ!\nìƒ‰ìƒ: ${colors.find((c) => c.id === color).label}\nìˆ˜ëŸ‰: ${qty}\nê²°ì œ ì˜ˆìƒ ê¸ˆì•¡: â‚©${priceKR(total)}`
            );
        }

        // 5. ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', updateDOM);

    </script>
</body>
</html>
